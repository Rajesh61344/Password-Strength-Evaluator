<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Strength Evaluator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Courier New', monospace; 
            background: #0a0a0a; 
            color: #00ff00; 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 20px;
        }
        .container { 
            background: #1a1a1a; 
            padding: 40px; 
            border-radius: 10px; 
            border: 2px solid #00ff00; 
            box-shadow: 0 0 30px #00ff0080; 
            max-width: 500px; 
            width: 100%;
        }
        h1 { 
            text-align: center; 
            margin-bottom: 30px; 
            font-size: 1.8em; 
            text-transform: uppercase; 
            letter-spacing: 2px;
        }
        .input-group { 
            margin-bottom: 20px; 
        }
        label { 
            display: block; 
            margin-bottom: 8px; 
            font-weight: bold; 
            color: #00ff00;
        }
        input[type="password"] { 
            width: 100%; 
            padding: 15px; 
            background: #000; 
            border: 2px solid #333; 
            border-radius: 5px; 
            color: #00ff00; 
            font-size: 16px; 
            font-family: inherit;
            transition: all 0.3s;
        }
        input[type="password"]:focus { 
            outline: none; 
            border-color: #00ff00; 
            box-shadow: 0 0 10px #00ff0080;
        }
        .strength-meter { 
            height: 10px; 
            background: #333; 
            border-radius: 5px; 
            margin: 20px 0; 
            overflow: hidden; 
            transition: all 0.5s ease;
        }
        .strength-fill { 
            height: 100%; 
            transition: all 0.5s ease;
        }
        .strength-weak { background: #ff0000; }
        .strength-poor { background: #ff8800; }
        .strength-fair { background: #ffff00; }
        .strength-good { background: #88ff00; }
        .strength-strong { background: #00ff00; }
        .feedback { 
            min-height: 120px; 
            padding: 20px; 
            background: #000; 
            border: 1px solid #333; 
            border-radius: 5px; 
            margin-bottom: 20px; 
            font-size: 14px; 
            line-height: 1.6;
        }
        .check { 
            display: flex; 
            align-items: center; 
            margin-bottom: 8px; 
        }
        .check-icon { 
            width: 12px; 
            height: 12px; 
            margin-right: 10px; 
            border-radius: 50%; 
            transition: all 0.3s;
        }
        .check-pass .check-icon { 
            background: #00ff00; 
            box-shadow: 0 0 5px #00ff00;
        }
        .check-fail .check-icon { 
            background: #ff0000;
        }
        .score { 
            font-size: 2em; 
            font-weight: bold; 
            text-align: center; 
            margin: 10px 0;
        }
        .entropy { 
            font-size: 0.9em; 
            opacity: 0.8; 
            text-align: center;
        }
        .generate-btn { 
            width: 100%; 
            padding: 15px; 
            background: #00ff00; 
            color: #000; 
            border: none; 
            border-radius: 5px; 
            font-size: 16px; 
            font-weight: bold; 
            cursor: pointer; 
            text-transform: uppercase; 
            transition: all 0.3s;
            margin-top: 10px;
        }
        .generate-btn:hover { 
            background: #00cc00; 
            box-shadow: 0 0 20px #00ff0080;
        }
        .warning { 
            background: #ff0000; 
            color: #fff; 
            padding: 15px; 
            border-radius: 5px; 
            margin-top: 20px; 
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Password Strength Evaluator</h1>
        <div class="input-group">
            <label for="password">Enter Password:</label>
            <input type="password" id="password" placeholder="Type your password here..." maxlength="128">
        </div>
        
        <div class="strength-meter">
            <div class="strength-fill" id="strengthFill"></div>
        </div>
        
        <div class="score" id="score">0/100</div>
        <div class="entropy" id="entropy">0 bits</div>
        
        <div class="feedback" id="feedback">
            <div class="check check-fail">
                <div class="check-icon"></div>
                Enter a password to begin analysis...
            </div>
        </div>
        
        <button class="generate-btn" onclick="generateStrongPassword()">
            üé≤ Generate Strong Password
        </button>
        
        <div class="warning">
            <strong>‚ö†Ô∏è Pentest Note:</strong> This tool educates on password entropy.
            Common breaches (HIBP: 12B+ accounts) show 80% fail basic checks.
            Enforce in prod: min 80 bits entropy.
        </div>
    </div>

    <script>
        const passwordInput = document.getElementById('password');
        const strengthFill = document.getElementById('strengthFill');
        const scoreEl = document.getElementById('score');
        const entropyEl = document.getElementById('entropy');
        const feedbackEl = document.getElementById('feedback');

        // Real-time listener
        passwordInput.addEventListener('input', evaluatePassword);

        function evaluatePassword() {
            const pwd = passwordInput.value;
            const analysis = analyzePassword(pwd);
            
            updateUI(analysis);
        }

        function analyzePassword(pwd) {
            if (!pwd) {
                return {
                    score: 0,
                    entropy: 0,
                    checks: [
                        { id: 'empty', pass: false, label: 'Password cannot be empty' }
                    ],
                    strength: 'none'
                };
            }

            const checks = [];
            let score = 0;
            let entropy = calculateEntropy(pwd);

            // Length check
            const lengthScore = Math.min(Math.floor(pwd.length / 8) * 10, 40);
            score += lengthScore;
            checks.push({
                id: 'length',
                pass: pwd.length >= 12,
                label: `Length ‚â•12 (${pwd.length})`,
                points: lengthScore
            });

            // Character variety (RegEx checks)
            const hasLower = /[a-z]/.test(pwd);
            const hasUpper = /[A-Z]/.test(pwd);
            const hasNumber = /[0-9]/.test(pwd);
            const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(pwd);
            
            const varietyScore = (hasLower + hasUpper + hasNumber + hasSpecial) * 12.5;
            score += varietyScore;
            checks.push({
                id: 'variety',
                pass: hasLower && hasUpper && hasNumber && hasSpecial,
                label: 'Lower, Upper, Numbers, Special',
                points: varietyScore
            });

            // No consecutive repeats
            const noRepeats = !/(.)\1{2,}/.test(pwd);
            score += noRepeats ? 10 : 0;
            checks.push({
                id: 'repeats',
                pass: noRepeats,
                label: 'No consecutive repeats'
            });

            // No common patterns (123, qwerty)
            const commonPatterns = /^(1234567890|qwerty|password|admin)/i.test(pwd);
            score += !commonPatterns ? 10 : 0;
            checks.push({
                id: 'patterns',
                pass: !commonPatterns,
                label: 'No dictionary/common patterns'
            });

            // Entropy bonus (zxcvbn-like simplified)
            const entropyBonus = Math.min(entropy / 20, 30);
            score += entropyBonus;
            checks.push({
                id: 'entropy',
                pass: entropy >= 80,
                label: `Entropy ‚â•80 bits (${Math.round(entropy)} bits)`,
                points: entropyBonus
            });

            score = Math.min(score, 100);

            return {
                score: Math.round(score),
                entropy: Math.round(entropy * 10) / 10,
                checks,
                strength: getStrengthLevel(score, entropy)
            };
        }

        function calculateEntropy(pwd) {
            // Shannon entropy calculation
            const charset = {};
            for (let char of pwd) {
                charset[char] = (charset[char] || 0) + 1;
            }
            const len = pwd.length;
            let entropy = 0;
            for (let count of Object.values(charset)) {
                const p = count / len;
                entropy -= p * Math.log2(p);
            }
            entropy *= len;
            return entropy;
        }

        function getStrengthLevel(score, entropy) {
            if (score < 40) return 'weak';
            if (score < 60) return 'poor';
            if (score < 80) return 'fair';
            if (score < 95 || entropy < 80) return 'good';
            return 'strong';
        }

        function updateUI(analysis) {
            // Strength meter
            const fillPercent = analysis.score;
            strengthFill.style.width = fillPercent + '%';
            strengthFill.className = `strength-fill strength-${analysis.strength}`;

            // Score & Entropy
            scoreEl.textContent = `${analysis.score}/100`;
            entropyEl.textContent = `${analysis.entropy} bits`;

            // Feedback checks
            feedbackEl.innerHTML = analysis.checks.map(check => 
                `<div class="check ${check.pass ? 'check-pass' : 'check-fail'}">
                    <div class="check-icon"></div>
                    ${check.label}${check.points ? ` (+${check.points})` : ''}
                </div>`
            ).join('');

            // Color score
            const colors = {
                weak: '#ff0000', poor: '#ff8800', fair: '#ffff00',
                good: '#88ff00', strong: '#00ff00'
            };
            scoreEl.style.color = colors[analysis.strength];
        }

        function generateStrongPassword() {
            const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()';
            let pwd = '';
            // Ensure variety
            pwd += chars[Math.floor(Math.random() * 26)];        // lower
            pwd += chars[26 + Math.floor(Math.random() * 26)];    // upper
            pwd += chars[52 + Math.floor(Math.random() * 10)];    // number
            pwd += chars[62 + Math.floor(Math.random() * 10)];    // special
            
            // Fill rest randomly (16 chars total)
            for (let i = 4; i < 20; i++) {
                pwd += chars[Math.floor(Math.random() * chars.length)];
            }
            // Shuffle
            pwd = pwd.split('').sort(() => Math.random() - 0.5).join('');
            
            passwordInput.value = pwd;
            evaluatePassword();  // Auto-evaluate
        }

        // Init with empty evaluation
        evaluatePassword();
    </script>
</body>
</html>